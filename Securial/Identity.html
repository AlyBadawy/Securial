<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Securial::Identity
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Securial::Identity";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (I)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Securial.html" title="Securial (module)">Securial</a></span></span>
     &raquo; 
    <span class="title">Identity</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Securial::Identity
  
  
  
</h1>
<div class="box_info">
  

  
  
  <dl>
      <dt>Extended by:</dt>
      <dd>ActiveSupport::Concern</dd>
  </dl>
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/controllers/concerns/securial/identity.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Identity Concern</p>

<p>Provides authentication and user identification functionality for controllers. This concern adds before_action hooks for user identification and authentication, and provides helper methods for accessing the current user and enforcing authentication.</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#authenticate_admin!-instance_method" title="#authenticate_admin! (instance method)">#<strong>authenticate_admin!</strong>  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Ensures the current user has admin privileges.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#current_user-instance_method" title="#current_user (instance method)">#<strong>current_user</strong>  &#x21d2; Securial::User<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the currently authenticated user or nil if no user is authenticated.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#skip_authentication!-instance_method" title="#skip_authentication! (instance method)">#<strong>skip_authentication!</strong>(options = {})  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Skips authentication for specified controller actions, making them publicly accessible.</p>
</div></span>
  
</li>

      
    </ul>
  


  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="authenticate_admin!-instance_method">
  
    #<strong>authenticate_admin!</strong>  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Ensures the current user has admin privileges.</p>

<p>This method checks if a user is authenticated and has admin privileges. If the user is not an admin, it renders a forbidden response. If no user is authenticated, it calls authenticate_user! to handle the unauthorized case.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


78
79
80
81
82
83
84
85
86
87
88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/concerns/securial/identity.rb', line 78</span>

<span class='kw'>def</span> <span class='id identifier rubyid_authenticate_admin!'>authenticate_admin!</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_current_user'>current_user</span>
    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_is_admin?'>is_admin?</span>

    <span class='id identifier rubyid_render'>render</span> <span class='label'>status:</span> <span class='symbol'>:forbidden</span><span class='comma'>,</span>
           <span class='label'>json:</span> <span class='lbrace'>{</span>
            <span class='label'>errors:</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You are not authorized to perform this action</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
            <span class='label'>instructions:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Please contact an administrator if you believe this is an error.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
          <span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_authenticate_user!'>authenticate_user!</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="current_user-instance_method">
  
    #<strong>current_user</strong>  &#x21d2; <tt><span class='object_link'><a href="User.html" title="Securial::User (class)">Securial::User</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the currently authenticated user or nil if no user is authenticated.</p>

<p>This method provides access to the current user object from the session tracked in Current.session.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="User.html" title="Securial::User (class)">Securial::User</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The current authenticated user or nil</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


66
67
68</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/concerns/securial/identity.rb', line 66</span>

<span class='kw'>def</span> <span class='id identifier rubyid_current_user'>current_user</span>
  <span class='const'><span class='object_link'><a href="Current.html" title="Securial::Current (class)">Current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_session'>session</span><span class='op'>&amp;.</span><span class='id identifier rubyid_user'>user</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="skip_authentication!-instance_method">
  
    #<strong>skip_authentication!</strong>(options = {})  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Skips authentication for specified controller actions, making them publicly accessible.</p>

<p>This class method allows you to bypass the ‘authenticate_user!` before_action that is applied by default to all controller actions when including the Identity concern. It’s useful for endpoints that should be publicly accessible, such as landing pages, password reset, login, or registration.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Skip authentication for login and registration actions</p>
</div></h5>
      
      <pre class="example code"><code><span class='kw'>class</span> <span class='const'><span class='object_link'><a href="SessionsController.html" title="Securial::SessionsController (class)">SessionsController</a></span></span> <span class='op'>&lt;</span> <span class='const'><span class='object_link'><a href="ApplicationController.html" title="Securial::ApplicationController (class)">ApplicationController</a></span></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="../Securial.html" title="Securial (module)">Securial</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Securial::Identity (module)">Identity</a></span></span>

  <span class='id identifier rubyid_skip_authentication!'>skip_authentication!</span> <span class='label'>only:</span> <span class='lbracket'>[</span><span class='symbol'>:new</span><span class='comma'>,</span> <span class='symbol'>:create</span><span class='rbracket'>]</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_new'>new</span>
    <span class='comment'># Login form action
</span>  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_create'>create</span>
    <span class='comment'># Authentication logic
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Skip authentication for all actions except protected ones</p>
</div></h5>
      
      <pre class="example code"><code><span class='kw'>class</span> <span class='const'>PublicController</span> <span class='op'>&lt;</span> <span class='const'><span class='object_link'><a href="ApplicationController.html" title="Securial::ApplicationController (class)">ApplicationController</a></span></span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="../Securial.html" title="Securial (module)">Securial</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Securial::Identity (module)">Identity</a></span></span>

  <span class='id identifier rubyid_skip_authentication!'>skip_authentication!</span> <span class='label'>except:</span> <span class='lbracket'>[</span><span class='symbol'>:dashboard</span><span class='comma'>,</span> <span class='symbol'>:account</span><span class='rbracket'>]</span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Options to pass to skip_before_action</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:only</span>
          <span class="type">(<tt>Symbol</tt>, <tt>Array&lt;Symbol&gt;</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>Specific action(s) to skip authentication for</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:except</span>
          <span class="type">(<tt>Symbol</tt>, <tt>Array&lt;Symbol&gt;</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>Action(s) to exclude from skipping</p>
</div>
          
        </li>
      
    </ul>
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54
55
56</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/concerns/securial/identity.rb', line 52</span>

<span class='id identifier rubyid_class_methods'>class_methods</span> <span class='kw'>do</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_skip_authentication!'>skip_authentication!</span><span class='lparen'>(</span><span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_skip_before_action'>skip_before_action</span> <span class='symbol'>:authenticate_user!</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Jun 24 20:08:33 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.4.4).
</div>

    </div>
  </body>
</html>