#!/usr/bin/env ruby

require "fileutils"
require_relative "../lib/securial/cli/show_version"
require_relative "../lib/securial/cli/show_help"
require_relative "../lib/securial/cli/run"
require_relative "../lib/securial/cli/securial_new"

case ARGV[0]
when "-v", "--version"
  show_version
when "-h", "--help"
  show_help
when "new"
  if ARGV[1]
    app_name = ARGV[1]
    rails_options = ARGV[2..] || []
    securial_new(app_name, rails_options)
  else
    show_help
    exit(1)
  end
else
  show_help
  exit(1)
end